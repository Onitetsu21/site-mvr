import { motion } from 'framer-motion'
import { ExternalLink } from 'lucide-react'
import { platformColors } from '@/lib/utils'

// Ic√¥nes SVG des plateformes
const PlatformIcons = {
  spotify: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5">
      <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
    </svg>
  ),
  soundcloud: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5">
      <path d="M1.175 12.225c-.051 0-.094.046-.101.1l-.233 2.154.233 2.105c.007.058.05.098.101.098.05 0 .09-.04.099-.098l.255-2.105-.27-2.154c-.009-.06-.052-.1-.084-.1zm-.899.828c-.06 0-.091.037-.104.094L0 14.479l.165 1.308c.014.057.045.094.09.094s.089-.037.099-.094l.19-1.308-.19-1.334c-.01-.057-.054-.09-.078-.09zm1.83-1.229c-.061 0-.12.045-.12.104l-.21 2.563.225 2.458c0 .06.045.12.12.12.06 0 .105-.061.12-.12l.24-2.458-.24-2.563c-.015-.06-.06-.104-.12-.104zm.945-.089c-.075 0-.135.06-.15.135l-.193 2.64.21 2.544c.016.077.075.138.149.138.075 0 .135-.061.15-.138l.24-2.544-.24-2.64c-.015-.075-.06-.135-.135-.135l-.031-.002zm.96-.36c-.09 0-.166.075-.18.164l-.18 2.79.195 2.565c.014.09.09.165.18.165.09 0 .165-.075.18-.165l.21-2.565-.21-2.79c-.015-.089-.09-.164-.18-.164zm1.005-.195c-.104 0-.194.089-.209.195l-.165 2.775.18 2.58c.015.104.09.194.209.194.104 0 .179-.09.194-.194l.194-2.58-.194-2.775c-.015-.105-.09-.195-.194-.195zm1.035-.12c-.12 0-.225.105-.225.225l-.15 2.67.165 2.565c0 .119.105.225.225.225.12 0 .21-.106.225-.225l.18-2.565-.18-2.67c-.015-.12-.105-.225-.225-.225zm1.049-.09c-.135 0-.24.105-.255.24l-.135 2.535.15 2.55c.015.135.12.24.255.24.12 0 .24-.105.24-.24l.165-2.55-.165-2.535c0-.135-.105-.24-.24-.24zm1.064-.06c-.15 0-.27.12-.27.27l-.12 2.415.135 2.52c0 .15.12.27.27.27.15 0 .255-.12.27-.27l.15-2.52-.15-2.415c-.015-.15-.12-.27-.27-.27zm1.08 0c-.165 0-.3.135-.3.3l-.105 2.385.12 2.505c0 .165.135.3.3.3.165 0 .285-.135.3-.3l.12-2.505-.135-2.385c0-.165-.135-.3-.285-.3zm1.095-.03c-.18 0-.315.135-.315.315l-.09 2.295.105 2.49c0 .18.135.315.315.315.165 0 .315-.135.315-.315l.105-2.49-.105-2.295c0-.18-.15-.315-.315-.315zm1.11-.03c-.195 0-.345.15-.345.345l-.075 2.205.09 2.46c.015.195.165.345.345.345.195 0 .345-.15.345-.345l.09-2.46-.09-2.205c0-.195-.15-.345-.33-.345zm1.125-.045c-.21 0-.375.165-.375.375l-.06 2.13.075 2.445c.015.21.165.375.375.375.195 0 .375-.165.375-.375l.075-2.445-.075-2.13c0-.21-.165-.375-.375-.375zm1.14-.045c-.225 0-.39.18-.39.405l-.045 2.055.06 2.415c.015.225.18.405.405.405.21 0 .39-.18.39-.405l.075-2.415-.075-2.055c0-.225-.165-.405-.39-.405zm1.155-.06c-.24 0-.42.195-.42.42l-.03 1.98.045 2.4c.015.24.195.42.435.42.225 0 .42-.18.42-.42l.06-2.4-.06-1.98c0-.225-.18-.42-.42-.42zm6.33 1.32c-.48 0-.93.09-1.35.27-.21-2.37-2.19-4.23-4.62-4.23-.6 0-1.17.12-1.695.33-.195.075-.24.165-.24.33v8.385c0 .18.135.33.315.345h7.59c1.59 0 2.88-1.29 2.88-2.895s-1.29-2.895-2.88-2.895v-.045z"/>
    </svg>
  ),
  bandcamp: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5">
      <path d="M0 18.75l7.437-13.5H24l-7.438 13.5H0z"/>
    </svg>
  ),
  apple_music: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5">
      <path d="M23.994 6.124a9.23 9.23 0 00-.24-2.19c-.317-1.31-1.062-2.31-2.18-3.043a5.022 5.022 0 00-1.877-.726 10.496 10.496 0 00-1.564-.15c-.04-.003-.083-.01-.124-.013H5.986c-.152.01-.303.017-.455.026-.747.043-1.49.123-2.193.364-1.064.365-1.9.96-2.512 1.882a4.991 4.991 0 00-.753 2.117c-.078.448-.12.902-.13 1.357-.007.293-.01.586-.01.878v8.908c.002.298.007.595.015.892.038.887.153 1.763.497 2.594.368.897.938 1.636 1.7 2.207.48.359 1.01.618 1.585.795.616.19 1.25.29 1.893.32.266.016.533.02.8.024.293.004.586.003.88.003h7.936c.39 0 .78-.002 1.17-.01.596-.014 1.19-.06 1.774-.172 1.14-.22 2.12-.702 2.923-1.504.697-.696 1.16-1.524 1.42-2.462.177-.641.262-1.296.294-1.96.017-.36.02-.722.022-1.083V8.076c-.002-.26-.003-.522-.01-.78zm-6.4 6.98a6.023 6.023 0 01-.097.628 1.63 1.63 0 01-.3.595c-.208.273-.48.436-.81.504-.205.042-.413.056-.623.03-.354-.043-.667-.18-.937-.403-.168-.138-.31-.3-.445-.468-.137-.17-.267-.347-.405-.518-.11-.137-.226-.27-.34-.403a.893.893 0 00-.48-.296c-.165-.044-.334-.032-.5.015a.693.693 0 00-.403.33c-.118.2-.188.417-.238.645-.065.3-.1.605-.113.914-.017.347-.006.693.04 1.037.055.406.17.793.386 1.144.13.212.294.396.498.535.25.17.524.25.82.27.232.015.467.007.7-.022.214-.027.423-.076.625-.147.218-.076.422-.18.61-.308.145-.1.28-.213.41-.333.102-.094.2-.194.295-.294.072-.075.142-.078.2-.005.043.053.082.11.12.166.104.155.214.305.34.444.204.222.44.4.714.52.296.128.607.19.93.193.216.003.43-.01.644-.046.232-.038.458-.1.675-.19.348-.148.654-.36.908-.635.21-.23.382-.485.503-.772.152-.36.25-.735.29-1.124.024-.228.028-.456.02-.685-.013-.353-.06-.7-.162-1.04-.09-.298-.22-.578-.4-.83-.193-.27-.43-.493-.713-.664-.23-.14-.476-.244-.74-.298-.223-.046-.45-.056-.677-.04-.274.02-.54.075-.794.18-.34.14-.616.362-.867.618-.11.11-.21.23-.313.348-.014.016-.02.04-.044.086.02-.098.032-.17.05-.238.054-.207.115-.412.166-.62.067-.274.098-.553.09-.834-.013-.398-.11-.777-.31-1.123-.198-.345-.476-.605-.83-.776-.267-.13-.55-.196-.846-.216-.372-.026-.737.018-1.09.13-.396.124-.754.32-1.077.575-.175.14-.343.285-.502.446-.1.1-.2.2-.293.31-.02.024-.04.046-.07.083.015-.082.026-.147.04-.21.06-.272.13-.543.18-.818.057-.307.08-.617.066-.93-.017-.378-.11-.736-.303-1.064-.217-.368-.518-.643-.9-.822-.255-.12-.526-.18-.807-.202-.33-.027-.656.007-.977.082-.385.09-.74.247-1.07.456-.287.18-.548.393-.79.628-.092.088-.177.183-.267.274-.057.058-.06.058-.108-.003a1.85 1.85 0 00-.147-.167c-.303-.32-.653-.576-1.063-.74-.334-.133-.68-.188-1.04-.17-.342.016-.666.1-.97.255-.36.184-.64.454-.86.787-.197.3-.32.63-.37.987-.044.318-.037.637.014.954.08.503.26.968.517 1.4.318.537.728.998 1.21 1.388.285.23.584.44.896.63.33.2.67.383 1.02.547.33.155.668.29 1.01.41.238.085.48.16.72.24.163.05.17.056.14.227-.067.367-.135.733-.18 1.105-.046.376-.062.754-.043 1.132.023.473.105.938.265 1.385.177.5.44.95.787 1.34.378.427.83.758 1.346.995.427.196.874.326 1.343.376.347.037.695.04 1.043.004.446-.046.876-.15 1.285-.33.534-.232 1-.557 1.378-.988.32-.364.56-.776.72-1.233.152-.432.23-.877.247-1.334.013-.35-.003-.7-.054-1.046-.058-.39-.15-.774-.275-1.147-.064-.19-.127-.378-.19-.57-.037-.11-.035-.11.08-.15.38-.124.746-.28 1.09-.486.445-.266.83-.6 1.14-1.01.29-.382.5-.802.63-1.26.1-.348.15-.702.16-1.062v-.083h.003z"/>
    </svg>
  ),
  beatport: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5">
      <path d="M21.429 17.055c-.164-.007-.32.043-.461.137-.222.147-.373.365-.45.616-.067.21-.08.432-.027.646.078.32.275.578.545.741.195.118.41.172.631.166.19-.003.37-.05.538-.143.273-.15.463-.39.541-.69.083-.32.028-.63-.152-.9-.188-.284-.466-.455-.8-.534-.126-.03-.244-.044-.365-.04zm-7.313-1.268c-.134.018-.265.052-.39.102-.232.093-.43.232-.596.41-.202.218-.347.471-.43.755-.085.29-.105.586-.056.885.05.304.164.583.34.83.196.274.45.482.756.613.192.082.394.127.6.14.214.014.428-.01.638-.073.294-.087.554-.234.772-.44.205-.195.362-.425.468-.687.11-.27.156-.553.138-.845-.017-.29-.094-.563-.234-.813-.163-.293-.393-.525-.687-.69-.222-.125-.46-.192-.707-.2-.071-.004-.14-.002-.21.008-.134.016-.134.016 0 0l-.002.005zm2.79-2.82c-.004-.003-.007-.004-.01-.007.003.003.007.004.01.007zm-5.77 2.66c-.163-.008-.32.043-.462.136-.222.148-.373.365-.45.617-.067.21-.078.432-.025.646.078.32.275.578.546.74.195.12.41.173.63.167.192-.003.372-.05.54-.143.272-.15.463-.39.54-.69.084-.32.03-.63-.15-.9-.19-.283-.468-.455-.802-.533-.126-.03-.243-.044-.365-.04zM12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm7.27 14.963c-.245.47-.574.873-.975 1.2-.14.113-.286.217-.44.31.28.376.443.837.443 1.34 0 1.234-1.002 2.236-2.237 2.236-.31 0-.607-.063-.877-.177-.45.152-.93.243-1.43.27v.164h-3.508v-.163c-.5-.028-.98-.12-1.43-.27-.27.114-.566.177-.877.177-1.235 0-2.237-1.002-2.237-2.237 0-.502.164-.964.443-1.34-.154-.092-.3-.196-.44-.31-.4-.326-.73-.73-.974-1.2-.388-.746-.535-1.59-.425-2.42.106-.8.432-1.542.944-2.155.433-.518.984-.93 1.607-1.21v-.24c0-.994.632-1.84 1.516-2.157V6.55c0-.882.716-1.598 1.598-1.598h3.06c.883 0 1.6.716 1.6 1.598v.233c.883.316 1.515 1.162 1.515 2.156v.24c.623.28 1.173.692 1.607 1.21.512.613.838 1.354.944 2.154.11.83-.037 1.674-.425 2.42z"/>
    </svg>
  ),
  youtube: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5">
      <path d="M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
    </svg>
  ),
  instagram: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5">
      <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/>
    </svg>
  ),
  facebook: (
    <svg viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5">
      <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
    </svg>
  ),
}

export function PlatformButton({ platform, label, url, index = 0, variant = 'default' }) {
  const color = platformColors[platform] || '#ffffff'
  const Icon = PlatformIcons[platform]

  if (variant === 'small') {
    return (
      <motion.a
        href={url}
        target="_blank"
        rel="noopener noreferrer"
        initial={{ opacity: 0, x: -20 }}
        animate={{ opacity: 1, x: 0 }}
        transition={{ delay: index * 0.1 }}
        whileHover={{ scale: 1.02 }}
        whileTap={{ scale: 0.98 }}
        className="flex items-center gap-3 p-3 rounded-lg bg-mvr-darker border border-mvr-border hover:border-opacity-50 transition-all group"
        style={{ '--platform-color': color }}
      >
        <span className="text-gray-400 group-hover:text-[var(--platform-color)] transition-colors">
          {Icon}
        </span>
        <span className="text-white group-hover:text-[var(--platform-color)] transition-colors">
          {label}
        </span>
        <ExternalLink className="w-4 h-4 ml-auto text-gray-600 group-hover:text-gray-400 transition-colors" />
      </motion.a>
    )
  }

  return (
    <motion.a
      href={url}
      target="_blank"
      rel="noopener noreferrer"
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ delay: index * 0.1 }}
      whileHover={{ scale: 1.02, x: 5 }}
      whileTap={{ scale: 0.98 }}
      className="flex items-center gap-4 p-4 rounded-xl bg-mvr-surface border border-mvr-border hover:border-opacity-50 transition-all group"
      style={{ 
        '--platform-color': color,
        borderColor: 'transparent',
      }}
      onMouseEnter={(e) => {
        e.currentTarget.style.borderColor = color + '50'
        e.currentTarget.style.boxShadow = `0 0 20px ${color}20`
      }}
      onMouseLeave={(e) => {
        e.currentTarget.style.borderColor = 'transparent'
        e.currentTarget.style.boxShadow = 'none'
      }}
    >
      <div 
        className="w-10 h-10 rounded-lg flex items-center justify-center transition-colors"
        style={{ backgroundColor: color + '20', color: color }}
      >
        {Icon}
      </div>
      <span className="flex-1 font-medium text-white group-hover:text-[var(--platform-color)] transition-colors">
        {label}
      </span>
      <ExternalLink className="w-5 h-5 text-gray-600 group-hover:text-gray-400 transition-colors" />
    </motion.a>
  )
}
